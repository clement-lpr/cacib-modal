<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>CACIB Modal Component Demo</title>

    <script type="module" src="/build/cacib.esm.js"></script>
    <script nomodule src="/build/cacib.js"></script>
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background: #f8f9fa;
        color: #212529;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #12B886;
        margin-bottom: 10px;
        font-size: 2.5rem;
      }

      h2 {
        color: #495057;
        margin: 40px 0 20px 0;
        font-size: 1.5rem;
        border-bottom: 2px solid #dee2e6;
        padding-bottom: 10px;
      }

      .subtitle {
        color: #868e96;
        font-size: 1.1rem;
        margin-bottom: 40px;
      }

      .demo-section {
        margin: 30px 0;
      }

      .demo-button {
        padding: 12px 24px;
        border: 2px solid #12B886;
        background: #12B886;
        color: white;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease-in-out;
        margin: 8px;
      }

      .demo-button:hover {
        background: #0CA678;
        border-color: #0CA678;
        transform: translateY(-2px);
      }

      .demo-button--secondary {
        background: white;
        color: #12B886;
      }

      .demo-button--secondary:hover {
        background: #e6fcf5;
      }

      .code-block {
        background: #f1f3f5;
        padding: 16px;
        border-radius: 6px;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 14px;
        color: #495057;
        overflow-x: auto;
        margin: 16px 0;
        border-left: 4px solid #12B886;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>CACIB Modal Component</h1>
      <p class="subtitle">Composant modal développé avec Stencil.js suivant les principes SOLID</p>

      <h2>Démonstration</h2>
      <div class="demo-section">
        <button class="demo-button" onclick="openBasicModal()">Modal Basique</button>
        <button class="demo-button" onclick="openConfirmModal()">Modal de Confirmation</button>
        <button class="demo-button" onclick="openModalWithContent()">Modal avec Contenu</button>
        <button class="demo-button demo-button--secondary" onclick="openModalNoClose()">Modal sans X</button>
      </div>

      <h2>Fonctionnalités</h2>
      <ul>
        <li>✅ Respecte les principes SOLID</li>
        <li>✅ Composant Web natif avec Stencil.js</li>
        <li>✅ Animations fluides d'ouverture/fermeture</li>
        <li>✅ Gestion des événements (ESC, clic sur overlay)</li>
        <li>✅ Accessibilité (ARIA, focus management)</li>
        <li>✅ Design responsive</li>
        <li>✅ Utilise les design tokens du thème CACIB</li>
        <li>✅ Support des slots pour contenu personnalisé</li>
      </ul>

      <h2>Usage</h2>
      <div class="code-block">
&lt;cacib-modal
  is-open="false"
  modal-title="Titre de la modal"
  subtitle="Description ou sous-titre"
  primary-button-text="Confirmer"
  secondary-button-text="Annuler"
  show-close-button="true"
&gt;
  &lt;p&gt;Contenu personnalisé de la modal&lt;/p&gt;
&lt;/cacib-modal&gt;
      </div>
    </div>

    <!-- Modal instances -->
    <cacib-modal
      id="modal-basic"
      modal-title="Modal Basique"
      subtitle="Ceci est une modal simple avec un titre et du contenu."
    >
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    </cacib-modal>

    <cacib-modal
      id="modal-confirm"
      modal-title="Confirmer l'action"
      subtitle="Êtes-vous sûr de vouloir effectuer cette action ?"
      primary-button-text="Oui, continuer"
      secondary-button-text="Non, annuler"
    >
      <p>Cette action est irréversible. Veuillez confirmer votre choix.</p>
    </cacib-modal>

    <cacib-modal
      id="modal-content"
      modal-title="Modal avec Contenu"
      subtitle="Cette modal contient plus de contenu pour tester le défilement."
    >
      <div>
        <h3>Section 1</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>

        <h3>Section 2</h3>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

        <h3>Section 3</h3>
        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
      </div>
    </cacib-modal>

    <cacib-modal
      id="modal-no-close"
      modal-title="Modal sans bouton fermer"
      subtitle="Cette modal ne peut être fermée qu'avec les boutons d'action."
      show-close-button="false"
    >
      <p>Vous devez utiliser les boutons d'action pour fermer cette modal.</p>
    </cacib-modal>

    <script>
      function openBasicModal() {
        const modal = document.getElementById('modal-basic');
        modal.isOpen = true;
      }

      function openConfirmModal() {
        const modal = document.getElementById('modal-confirm');
        modal.isOpen = true;
      }

      function openModalWithContent() {
        const modal = document.getElementById('modal-content');
        modal.isOpen = true;
      }

      function openModalNoClose() {
        const modal = document.getElementById('modal-no-close');
        modal.isOpen = true;
      }

      // Event listeners
      document.addEventListener('DOMContentLoaded', function() {
        // Basic modal events
        const basicModal = document.getElementById('modal-basic');
        basicModal.addEventListener('modalClose', () => console.log('Basic modal closed'));
        basicModal.addEventListener('modalPrimaryAction', () => {
          console.log('Basic modal primary action');
          basicModal.isOpen = false;
        });
        basicModal.addEventListener('modalSecondaryAction', () => {
          console.log('Basic modal secondary action');
          basicModal.isOpen = false;
        });

        // Confirm modal events
        const confirmModal = document.getElementById('modal-confirm');
        confirmModal.addEventListener('modalClose', () => console.log('Confirm modal closed'));
        confirmModal.addEventListener('modalPrimaryAction', () => {
          console.log('Action confirmed!');
          alert('Action confirmée !');
          confirmModal.isOpen = false;
        });
        confirmModal.addEventListener('modalSecondaryAction', () => {
          console.log('Action cancelled');
          confirmModal.isOpen = false;
        });

        // Content modal events
        const contentModal = document.getElementById('modal-content');
        contentModal.addEventListener('modalClose', () => console.log('Content modal closed'));
        contentModal.addEventListener('modalPrimaryAction', () => {
          console.log('Content modal primary action');
          contentModal.isOpen = false;
        });
        contentModal.addEventListener('modalSecondaryAction', () => {
          console.log('Content modal secondary action');
          contentModal.isOpen = false;
        });

        // No close modal events
        const noCloseModal = document.getElementById('modal-no-close');
        noCloseModal.addEventListener('modalPrimaryAction', () => {
          console.log('No close modal primary action');
          noCloseModal.isOpen = false;
        });
        noCloseModal.addEventListener('modalSecondaryAction', () => {
          console.log('No close modal secondary action');
          noCloseModal.isOpen = false;
        });
      });
    </script>
  </body>
</html>
